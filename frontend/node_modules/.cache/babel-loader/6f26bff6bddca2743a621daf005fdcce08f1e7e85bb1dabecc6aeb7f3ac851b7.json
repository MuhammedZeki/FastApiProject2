{"ast":null,"code":"import api from '../services/api';\nexport default {\n  data() {\n    return {\n      schedules: [],\n      teachers: [],\n      students: [],\n      newSchedule: {\n        title: '',\n        description: '',\n        start_time: '',\n        end_time: '',\n        teacher_id: ''\n      },\n      error: '',\n      success: ''\n    };\n  },\n  created() {\n    this.fetchSchedules();\n    this.fetchTeachers();\n    this.fetchStudents();\n  },\n  methods: {\n    async fetchSchedules() {\n      try {\n        const response = await api.get('/schedules/');\n        this.schedules = response.data;\n      } catch (err) {\n        console.error('Error fetching schedules:', err);\n      }\n    },\n    async fetchTeachers() {\n      try {\n        const response = await api.get('/teachers/');\n        this.teachers = response.data;\n      } catch (err) {\n        console.error('Error fetching teachers:', err);\n      }\n    },\n    async fetchStudents() {\n      try {\n        const response = await api.get('/students/');\n        this.students = response.data;\n      } catch (err) {\n        console.error('Error fetching students:', err);\n      }\n    },\n    async addSchedule() {\n      try {\n        const scheduleData = {\n          ...this.newSchedule,\n          student_id: this.userId // Oturum açmış kullanıcının öğrenci ID'si olabilir\n        };\n        const response = await api.post('/schedules/', scheduleData);\n        this.schedules.push(response.data);\n        this.success = 'Schedule added successfully.';\n        this.error = '';\n        this.newSchedule = {\n          title: '',\n          description: '',\n          start_time: '',\n          end_time: '',\n          teacher_id: ''\n        };\n      } catch (err) {\n        this.error = err.response?.data?.detail || 'Failed to add schedule.';\n        this.success = '';\n      }\n    }\n  },\n  computed: {\n    // Eğer oturum açmış kullanıcının ID'sine ihtiyacınız varsa, Vuex store'dan çekebilirsiniz\n    userId() {\n      return this.$store.state.user?.id;\n    }\n  }\n};","map":{"version":3,"names":["api","data","schedules","teachers","students","newSchedule","title","description","start_time","end_time","teacher_id","error","success","created","fetchSchedules","fetchTeachers","fetchStudents","methods","response","get","err","console","addSchedule","scheduleData","student_id","userId","post","push","detail","computed","$store","state","user","id"],"sources":["/home/ubuntu/FastApiProject2/frontend/src/views/Schedules.vue"],"sourcesContent":["<!-- src/views/Schedules.vue -->\n<template>\n    <div>\n      <h2>Schedules</h2>\n      <form @submit.prevent=\"addSchedule\">\n        <div>\n          <label for=\"title\">Title:</label>\n          <input v-model=\"newSchedule.title\" id=\"title\" required />\n        </div>\n        <div>\n          <label for=\"description\">Description:</label>\n          <input v-model=\"newSchedule.description\" id=\"description\" />\n        </div>\n        <div>\n          <label for=\"start_time\">Start Time:</label>\n          <input v-model=\"newSchedule.start_time\" id=\"start_time\" type=\"datetime-local\" required />\n        </div>\n        <div>\n          <label for=\"end_time\">End Time:</label>\n          <input v-model=\"newSchedule.end_time\" id=\"end_time\" type=\"datetime-local\" required />\n        </div>\n        <div>\n          <label for=\"teacher_id\">Teacher:</label>\n          <select v-model=\"newSchedule.teacher_id\" id=\"teacher_id\" required>\n            <option v-for=\"teacher in teachers\" :key=\"teacher.id\" :value=\"teacher.id\">\n              {{ teacher.name }}\n            </option>\n          </select>\n        </div>\n        <button type=\"submit\">Add Schedule</button>\n      </form>\n      <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\n      <p v-if=\"success\" style=\"color:green\">{{ success }}</p>\n  \n      <ul>\n        <li v-for=\"schedule in schedules\" :key=\"schedule.id\">\n          <strong>{{ schedule.title }}</strong> - {{ schedule.description }}\n          <br />\n          From: {{ schedule.start_time }} To: {{ schedule.end_time }}\n          <br />\n          Teacher: {{ schedule.teacher.name }}\n          <br />\n          Student: {{ schedule.student.name }}\n        </li>\n      </ul>\n    </div>\n  </template>\n  \n  <script>\n  import api from '../services/api'\n  \n  export default {\n    data() {\n      return {\n        schedules: [],\n        teachers: [],\n        students: [],\n        newSchedule: {\n          title: '',\n          description: '',\n          start_time: '',\n          end_time: '',\n          teacher_id: ''\n        },\n        error: '',\n        success: ''\n      }\n    },\n    created() {\n      this.fetchSchedules()\n      this.fetchTeachers()\n      this.fetchStudents()\n    },\n    methods: {\n      async fetchSchedules() {\n        try {\n          const response = await api.get('/schedules/')\n          this.schedules = response.data\n        } catch (err) {\n          console.error('Error fetching schedules:', err)\n        }\n      },\n      async fetchTeachers() {\n        try {\n          const response = await api.get('/teachers/')\n          this.teachers = response.data\n        } catch (err) {\n          console.error('Error fetching teachers:', err)\n        }\n      },\n      async fetchStudents() {\n        try {\n          const response = await api.get('/students/')\n          this.students = response.data\n        } catch (err) {\n          console.error('Error fetching students:', err)\n        }\n      },\n      async addSchedule() {\n        try {\n          const scheduleData = {\n            ...this.newSchedule,\n            student_id: this.userId  // Oturum açmış kullanıcının öğrenci ID'si olabilir\n          }\n          const response = await api.post('/schedules/', scheduleData)\n          this.schedules.push(response.data)\n          this.success = 'Schedule added successfully.'\n          this.error = ''\n          this.newSchedule = {\n            title: '',\n            description: '',\n            start_time: '',\n            end_time: '',\n            teacher_id: ''\n          }\n        } catch (err) {\n          this.error = err.response?.data?.detail || 'Failed to add schedule.'\n          this.success = ''\n        }\n      }\n    },\n    computed: {\n      // Eğer oturum açmış kullanıcının ID'sine ihtiyacınız varsa, Vuex store'dan çekebilirsiniz\n      userId() {\n        return this.$store.state.user?.id\n      }\n    }\n  }\n  </script>\n  "],"mappings":"AAiDE,OAAOA,GAAE,MAAO,iBAAgB;AAEhC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE;QACXC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,UAAU,EAAE,EAAE;QACdC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE;MACd,CAAC;MACDC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC;IACpB,IAAI,CAACC,aAAa,CAAC;IACnB,IAAI,CAACC,aAAa,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMH,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMlB,GAAG,CAACmB,GAAG,CAAC,aAAa;QAC5C,IAAI,CAACjB,SAAQ,GAAIgB,QAAQ,CAACjB,IAAG;MAC/B,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAACV,KAAK,CAAC,2BAA2B,EAAES,GAAG;MAChD;IACF,CAAC;IACD,MAAML,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMlB,GAAG,CAACmB,GAAG,CAAC,YAAY;QAC3C,IAAI,CAAChB,QAAO,GAAIe,QAAQ,CAACjB,IAAG;MAC9B,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAACV,KAAK,CAAC,0BAA0B,EAAES,GAAG;MAC/C;IACF,CAAC;IACD,MAAMJ,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMlB,GAAG,CAACmB,GAAG,CAAC,YAAY;QAC3C,IAAI,CAACf,QAAO,GAAIc,QAAQ,CAACjB,IAAG;MAC9B,EAAE,OAAOmB,GAAG,EAAE;QACZC,OAAO,CAACV,KAAK,CAAC,0BAA0B,EAAES,GAAG;MAC/C;IACF,CAAC;IACD,MAAME,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF,MAAMC,YAAW,GAAI;UACnB,GAAG,IAAI,CAAClB,WAAW;UACnBmB,UAAU,EAAE,IAAI,CAACC,MAAK,CAAG;QAC3B;QACA,MAAMP,QAAO,GAAI,MAAMlB,GAAG,CAAC0B,IAAI,CAAC,aAAa,EAAEH,YAAY;QAC3D,IAAI,CAACrB,SAAS,CAACyB,IAAI,CAACT,QAAQ,CAACjB,IAAI;QACjC,IAAI,CAACW,OAAM,GAAI,8BAA6B;QAC5C,IAAI,CAACD,KAAI,GAAI,EAAC;QACd,IAAI,CAACN,WAAU,GAAI;UACjBC,KAAK,EAAE,EAAE;UACTC,WAAW,EAAE,EAAE;UACfC,UAAU,EAAE,EAAE;UACdC,QAAQ,EAAE,EAAE;UACZC,UAAU,EAAE;QACd;MACF,EAAE,OAAOU,GAAG,EAAE;QACZ,IAAI,CAACT,KAAI,GAAIS,GAAG,CAACF,QAAQ,EAAEjB,IAAI,EAAE2B,MAAK,IAAK,yBAAwB;QACnE,IAAI,CAAChB,OAAM,GAAI,EAAC;MAClB;IACF;EACF,CAAC;EACDiB,QAAQ,EAAE;IACR;IACAJ,MAAMA,CAAA,EAAG;MACP,OAAO,IAAI,CAACK,MAAM,CAACC,KAAK,CAACC,IAAI,EAAEC,EAAC;IAClC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}