{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = [\"value\"];\nconst _hoisted_2 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_3 = {\n  key: 1,\n  style: {\n    \"color\": \"green\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"Schedules\", -1)), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.addSchedule && $options.addSchedule(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"title\"\n  }, \"Title:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newSchedule.title = $event),\n    id: \"title\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newSchedule.title]])]), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Description:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newSchedule.description = $event),\n    id: \"description\"\n  }, null, 512), [[_vModelText, $data.newSchedule.description]])]), _createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"start_time\"\n  }, \"Start Time:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newSchedule.start_time = $event),\n    id: \"start_time\",\n    type: \"datetime-local\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newSchedule.start_time]])]), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"end_time\"\n  }, \"End Time:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newSchedule.end_time = $event),\n    id: \"end_time\",\n    type: \"datetime-local\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newSchedule.end_time]])]), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"teacher_id\"\n  }, \"Teacher:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newSchedule.teacher_id = $event),\n    id: \"teacher_id\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.teachers, teacher => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: teacher.id,\n      value: teacher.id\n    }, _toDisplayString(teacher.name), 9, _hoisted_1);\n  }), 128))], 512), [[_vModelSelect, $data.newSchedule.teacher_id]])]), _cache[11] || (_cache[11] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Add Schedule\", -1))], 32), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString($data.error), 1)) : _createCommentVNode(\"\", true), $data.success ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($data.success), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.schedules, schedule => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: schedule.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(schedule.title), 1), _createTextVNode(\" - \" + _toDisplayString(schedule.description) + \" \", 1), _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)), _createTextVNode(\" From: \" + _toDisplayString(schedule.start_time) + \" To: \" + _toDisplayString(schedule.end_time) + \" \", 1), _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)), _createTextVNode(\" Teacher: \" + _toDisplayString(schedule.teacher.name) + \" \", 1), _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)), _createTextVNode(\" Student: \" + _toDisplayString(schedule.student.name), 1)]);\n  }), 128))])]);\n}","map":{"version":3,"names":["key","style","_createElementBlock","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","addSchedule","for","$event","$data","newSchedule","title","id","required","description","start_time","type","end_time","teacher_id","_Fragment","_renderList","teachers","teacher","value","name","_hoisted_1","error","_hoisted_2","_toDisplayString","_createCommentVNode","success","_hoisted_3","schedules","schedule","_createTextVNode","student"],"sources":["/home/ubuntu/FastApiProject2/frontend/src/views/Schedules.vue"],"sourcesContent":["<!-- src/views/Schedules.vue -->\n<template>\n    <div>\n      <h2>Schedules</h2>\n      <form @submit.prevent=\"addSchedule\">\n        <div>\n          <label for=\"title\">Title:</label>\n          <input v-model=\"newSchedule.title\" id=\"title\" required />\n        </div>\n        <div>\n          <label for=\"description\">Description:</label>\n          <input v-model=\"newSchedule.description\" id=\"description\" />\n        </div>\n        <div>\n          <label for=\"start_time\">Start Time:</label>\n          <input v-model=\"newSchedule.start_time\" id=\"start_time\" type=\"datetime-local\" required />\n        </div>\n        <div>\n          <label for=\"end_time\">End Time:</label>\n          <input v-model=\"newSchedule.end_time\" id=\"end_time\" type=\"datetime-local\" required />\n        </div>\n        <div>\n          <label for=\"teacher_id\">Teacher:</label>\n          <select v-model=\"newSchedule.teacher_id\" id=\"teacher_id\" required>\n            <option v-for=\"teacher in teachers\" :key=\"teacher.id\" :value=\"teacher.id\">\n              {{ teacher.name }}\n            </option>\n          </select>\n        </div>\n        <button type=\"submit\">Add Schedule</button>\n      </form>\n      <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\n      <p v-if=\"success\" style=\"color:green\">{{ success }}</p>\n  \n      <ul>\n        <li v-for=\"schedule in schedules\" :key=\"schedule.id\">\n          <strong>{{ schedule.title }}</strong> - {{ schedule.description }}\n          <br />\n          From: {{ schedule.start_time }} To: {{ schedule.end_time }}\n          <br />\n          Teacher: {{ schedule.teacher.name }}\n          <br />\n          Student: {{ schedule.student.name }}\n        </li>\n      </ul>\n    </div>\n  </template>\n  \n  <script>\n  import api from '../services/api'\n  \n  export default {\n    data() {\n      return {\n        schedules: [],\n        teachers: [],\n        students: [],\n        newSchedule: {\n          title: '',\n          description: '',\n          start_time: '',\n          end_time: '',\n          teacher_id: ''\n        },\n        error: '',\n        success: ''\n      }\n    },\n    created() {\n      this.fetchSchedules()\n      this.fetchTeachers()\n      this.fetchStudents()\n    },\n    methods: {\n      async fetchSchedules() {\n        try {\n          const response = await api.get('/schedules/')\n          this.schedules = response.data\n        } catch (err) {\n          console.error('Error fetching schedules:', err)\n        }\n      },\n      async fetchTeachers() {\n        try {\n          const response = await api.get('/teachers/')\n          this.teachers = response.data\n        } catch (err) {\n          console.error('Error fetching teachers:', err)\n        }\n      },\n      async fetchStudents() {\n        try {\n          const response = await api.get('/students/')\n          this.students = response.data\n        } catch (err) {\n          console.error('Error fetching students:', err)\n        }\n      },\n      async addSchedule() {\n        try {\n          const scheduleData = {\n            ...this.newSchedule,\n            student_id: this.userId  // Oturum açmış kullanıcının öğrenci ID'si olabilir\n          }\n          const response = await api.post('/schedules/', scheduleData)\n          this.schedules.push(response.data)\n          this.success = 'Schedule added successfully.'\n          this.error = ''\n          this.newSchedule = {\n            title: '',\n            description: '',\n            start_time: '',\n            end_time: '',\n            teacher_id: ''\n          }\n        } catch (err) {\n          this.error = err.response?.data?.detail || 'Failed to add schedule.'\n          this.success = ''\n        }\n      }\n    },\n    computed: {\n      // Eğer oturum açmış kullanıcının ID'sine ihtiyacınız varsa, Vuex store'dan çekebilirsiniz\n      userId() {\n        return this.$store.state.user?.id\n      }\n    }\n  }\n  </script>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}